pipeline {
agent {
node {
label 'docker'
}
}



options {
buildDiscarder(logRotator(numToKeepStr: '10'))
}


stage('Build and package') {
agent {
docker {
alwaysPull true
reuseNode true
image 'maven:3-amazoncorretto-11'

}
}
steps {
//sh 'mvn clean install -DskipTests'
sh 'mvn clean package -DskipTests'
sh 'ls -lart'
sh 'pwd'

}
}
}
